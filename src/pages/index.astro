---
import DefaultLayout from "../layouts/DefaultLayout.astro";
import Hero from "../components/Hero.astro";
import Feature from "../components/Feature.astro";
import Counter from "../components/Counter.astro";
import ContentMedia from "../components/ContentMedia.astro";
import Latest from "../components/latest.astro";
import { Accordion, AccordionItem } from "accessible-astro-components";

//import for floating notification to work
import { Icon } from "astro-icon/components";
import { Notification } from "accessible-astro-components";

import { emergencias, kmperco, qab, age } from "../vars";

// Notification visibility
let isVisible = false; // Change to `false` to hide the notification
---

<DefaultLayout title="Início" class="snap-y">
  <div class="floating-notification">
    {
      isVisible && (
        <Notification type="info">
          <Icon name="ion:information-circle-outline" />
          <p>
            <strong>Última hora:</strong> Bombeiros fazem parto ao Km 13.4 da
            A14
            <a href="https://www.facebook.com/photo.php?fbid=1040480794786802&set=a.465417892293098&type=3&ref=embed_page">
              Saiba mais
            </a>
          </p>
        </Notification>
      )
    }
  </div>
  <Hero />
  <section class="mb-32 mt-64 snap-center">
    <div class="container">
      <h2 class="mb-16 text-5xl">BVFF em números</h2>
      <div class="grid grid-cols-1 gap-12 sm:grid-cols-2 lg:grid-cols-4">
        <Counter count={emergencias} title="Emergências" sub="em 2025" />
        <Counter count={kmperco} title="Km" sub="percorridos" />
        <Counter count={qab} title="Bombeiros" sub="no quadro ativo" />
        <Counter count={age} title="Anos" sub="de história" />
      </div>
    </div>
  </section>
  <section class="my-64">
    <div class="container">
      <h2 class="mb-16 text-6xl">Features</h2>
      <div class="grid grid-cols-1 gap-12 md:grid-cols-2 lg:grid-cols-3">
        <Feature icon="mdi:wheelchair" title="Transportes">
          Transportes para consultas, tratamentos, altas hospitalares, e lazer
        </Feature>
        <Feature icon="mdi:wheelchair-accessibility" title="Cadeiras de rodas">
          Dispomos de cadeiras de rodas complementares para o caso de não
          possuir uma para o seu transporte.
        </Feature>
        <Feature icon="mdi:bed" title="Transportes de  acamados">
          Transportes para consultas, tratamentos e altas hospitalares.
        </Feature>
        <Feature icon="mdi:ambulance" title="Pré Hospitalar">
          Garantimos o socorro á população quando mais precisa.
        </Feature>
        <Feature icon="mdi:fire-truck" title="Socorro">
          Temos uma vasta diversidade operacional.
        </Feature>
        <Feature icon="mdi:fire-station" title="Quartel">
          Temos um Quartel Sede e uma Secção destacada para permitir um melhor
          tempo de resposta.
        </Feature>
        <Feature icon="mdi:theme-light-dark" title="Horário">
          Garantimos o socorro 24h por dia 7 dias por semana o ano inteiro.
        </Feature>
        <Feature icon="mdi:account-group" title={`Somos ${qab}`}>
          A nossa família já conta com {qab} bombeiros.
        </Feature>
        <Feature icon="mdi:car-emergency" title="Viaturas">
          Contamos com 25 viaturas para nos ajudar no socorr.
        </Feature>
      </div>
    </div>
  </section>
  <ContentMedia imgSrc="/MARCHA.jpg">
    <h2>Corpo Ativo</h2>
    <p class="text-2xl">
      Queres fazer parte desta grande família que são os Bombeiros Voluntários
      da Figueira da foz? Tens aptidão física e psíquica?
      <a href="/recrutamento">Aqui</a>
      podes saber mais sobre como te juntar a nós.
    </p>
  </ContentMedia>
  <ContentMedia imgSrc="/INFANTES.jpg" reverseImg={true}>
    <h2>Infantes e Cadetes</h2>
    <p class="text-2xl">
      Ainda não tens idade para entrar na escola de estagiários mas queres
      começar a fazer o caminho para ser bomeiro?
      <a href="/recrutamento">Aqui</a>
      podes saber mais sobre começar esse caminho.
    </p>
  </ContentMedia>
  <ContentMedia imgSrc="/FANFARRA.jpg">
    <h2>Fanfarra</h2>
    <p class="text-2xl">
      A fanfarra dos bombeiros voluntários da Figueira da Foz conta com mais de
      x anos de história. Clica
      <a href="/recrutamento">aqui</a>
      podes saber mais sobre como podes fazer parte dela.
    </p>
  </ContentMedia>

  <Latest />
  <section class="my-60">
    <div class="container grid grid-cols-1 gap-12 md:grid-cols-2">
      <div class="flex flex-col items-start gap-4">
        <h2 class="text-6xl">FAQ</h2>
        <p class="text-2xl">
          This section demonstrates how to effectively use the Accordion
          component to organize and display frequently asked questions in an
          accessible and user-friendly way.
        </p>
        <a class="button" href="/faq">Contact support team</a>
      </div>
      <div class="space-content">
        <Accordion>
          <AccordionItem
            name="exclusive"
            title="What is WCAG and why is it important?"
          >
            <p>
              WCAG (Web Content Accessibility Guidelines) is a set of
              internationally recognized standards for web accessibility.
              Following WCAG ensures your website is usable by people with
              various disabilities, including visual, auditory, physical, and
              cognitive impairments. It's important not just for accessibility,
              but also for legal compliance, SEO, and reaching a wider audience.
            </p>
          </AccordionItem>
          <AccordionItem
            name="exclusive"
            title="What's the difference between ARIA labels and alt text?"
          >
            <p>
              Alt text is specifically for describing images to screen reader
              users, while ARIA labels (aria-label, aria-labelledby) can
              describe any element on a page. Alt text is HTML's native way to
              provide alternative text for images, while ARIA labels are part of
              the ARIA specification that helps make dynamic content and
              advanced UI controls more accessible.
            </p>
          </AccordionItem>
          <AccordionItem
            name="exclusive"
            title="Why is keyboard navigation important?"
          >
            <p>
              Keyboard navigation is essential for users who can't use a mouse,
              including people with motor disabilities, visual impairments, or
              those who simply prefer keyboard controls. A website should be
              fully operable using only a keyboard, with visible focus
              indicators and logical tab order. This includes being able to
              access all interactive elements and navigate through content
              efficiently.
            </p>
          </AccordionItem>
          <AccordionItem
            name="exclusive"
            title="What is a sufficient color contrast ratio?"
          >
            <p>
              According to WCAG 2.2 AA standards, text should have a minimum
              contrast ratio of 4.5:1 against its background for regular text,
              and 3:1 for large text (18pt or 14pt bold). For non-text elements
              like icons or buttons, a minimum ratio of 3:1 is required. This
              ensures content is readable for users with visual impairments or
              color blindness.
            </p>
          </AccordionItem>
          <AccordionItem
            name="exclusive"
            title="How do I make custom components accessible?"
          >
            <p>
              To make custom components accessible, focus on these key aspects:
              use semantic HTML where possible, implement proper keyboard
              support, add appropriate ARIA attributes, manage focus when
              needed, and ensure adequate color contrast. Always test with
              screen readers and keyboard navigation. Consider using established
              design patterns from the <a
                href="https://www.w3.org/WAI/ARIA/apg/patterns/"
                >ARIA Authoring Practices Guide</a
              >.
            </p>
          </AccordionItem>
        </Accordion>
      </div>
    </div>
  </section>
</DefaultLayout>

<style lang="scss" is:global>
  .floating-notification {
    position: fixed;
    bottom: 1rem;
    right: 2rem;
    // background-color: #161618e1;
    // padding: 1rem;
    // border-radius: 0.5rem;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2);
    z-index: 1000;
    max-width: 25%;
  }

  @media (max-width: 768px) {
    .floating-notification {
      bottom: 0.5rem;
      right: 0.5rem;
      max-width: 90%;
    }
  }
</style>
